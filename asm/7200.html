<!DOCTYPE html>
<html>
<head>
<title>Wheelie: Routine at 7200</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../wheelie.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="71F8.html">71F8</a>
</td>
<td class="up">Up: <a href="../maps/all.html#7200">Map</a></td>
<td class="next">
Next: <a href="72BA.html">72BA</a>
</td>
</tr>
</table>
<div class="description">7200: Initialise New Level</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="6500.html">6500</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel</td>
<td class="address-2"><span id="7200"></span>7200</td>
<td class="instruction">LD HL,$7820</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="7820.html">CurrentLevel</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7203"></span>7203</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="3">Jump to <a href="7200.html#720a">InitialiseLevel</a> if the current level is equal to 07. After level 07 the game just repeats this level.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7204"></span>7204</td>
<td class="instruction">CP $07</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7206"></span>7206</td>
<td class="instruction">JR Z,<a href="7200.html#720a">InitialiseLevel</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="7208"></span>
<div class="comments">
<div class="paragraph">
Increments both <a href="7820.html">CurrentLevel</a> and <span class="register">A</span> as we use this as an offset for pointing to the level data.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7208"></span>7208</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7209"></span>7209</td>
<td class="instruction">INC A</td>
<td class="comment-1" rowspan="1">Increment <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="720a"></span>
<div class="comments">
<div class="paragraph">
<table class="default">
<tr>
<td class="centre" colspan="1" rowspan="1">00</td>
<td class="centre" colspan="1" rowspan="1"><a href="E600.html">E600</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">01</td>
<td class="centre" colspan="1" rowspan="1"><a href="E600.html#e640">E640</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">02</td>
<td class="centre" colspan="1" rowspan="1"><a href="E600.html#e680">E680</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">03</td>
<td class="centre" colspan="1" rowspan="1"><a href="E600.html#e6c0">E6C0</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">04</td>
<td class="centre" colspan="1" rowspan="1"><a href="E600.html#e700">E700</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">05</td>
<td class="centre" colspan="1" rowspan="1"><a href="E600.html#e740">E740</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">06</td>
<td class="centre" colspan="1" rowspan="1"><a href="E600.html#e780">E780</a></td>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1">07</td>
<td class="centre" colspan="1" rowspan="1"><a href="E600.html#e7c0">E7C0</a></td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">InitialiseLevel</td>
<td class="address-2"><span id="720a"></span>720A</td>
<td class="instruction">RRCA</td>
<td class="comment-1" rowspan="2">Rotate <span class="register">A</span> right two positions (bits 2 to 5 are now in positions 0 to 3) using the carry flag.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="720b"></span>720B</td>
<td class="instruction">RRCA</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="720c"></span>720C</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="720d"></span>720D</td>
<td class="instruction">AND %00000011</td>
<td class="comment-1" rowspan="1">Keep only bits 0-1.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="720f"></span>720F</td>
<td class="instruction">ADD A,$E6</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=E6.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7211"></span>7211</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7212"></span>7212</td>
<td class="instruction">LD A,L</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=<span class="register">L</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7213"></span>7213</td>
<td class="instruction">AND %11000000</td>
<td class="comment-1" rowspan="1">Keep only bits 6-7.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7215"></span>7215</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7216"></span>7216</td>
<td class="instruction">LD A,$0A</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=0A (counter).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7218"></span>7218</td>
<td class="instruction">NOP</td>
<td class="comment-1" rowspan="1">No operation.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7219"></span>7219</td>
<td class="instruction">LD DE,$FA40</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=<a href="FA00.html#fa40">FA40</a>.</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_0</td>
<td class="address-2"><span id="721c"></span>721C</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="721d"></span>721D</td>
<td class="instruction">LD BC,$0040</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=0040.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7220"></span>7220</td>
<td class="instruction">LDIR</td>
<td class="comment-1" rowspan="1">Copy 0040 bytes of data from *<span class="register">HL</span> to *<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7222"></span>7222</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="1">Restore <span class="register">HL</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7223"></span>7223</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7224"></span>7224</td>
<td class="instruction">JR NZ,<a href="7200.html#721c">InitialiseNewLevel_0</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7200.html#721c">InitialiseNewLevel_0</a> until <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7226"></span>7226</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7227"></span>7227</td>
<td class="instruction">LD B,$08</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=08.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7229"></span>7229</td>
<td class="instruction">LD L,B</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=<span class="register">B</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="722a"></span>722A</td>
<td class="instruction">EX DE,HL</td>
<td class="comment-1" rowspan="1">Exchange the <span class="register">DE</span> and <span class="register">HL</span> registers.</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_1</td>
<td class="address-2"><span id="722b"></span>722B</td>
<td class="instruction">LD (HL),H</td>
<td class="comment-1" rowspan="1">Write <span class="register">H</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="722c"></span>722C</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="722d"></span>722D</td>
<td class="instruction">DJNZ <a href="7200.html#722b">InitialiseNewLevel_1</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="7200.html#722b">InitialiseNewLevel_1</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="722f"></span>722F</td>
<td class="instruction">LD B,E</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=<span class="register">E</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7230"></span>7230</td>
<td class="instruction">LD H,$FA</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=FA.</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_2</td>
<td class="address-2"><span id="7232"></span>7232</td>
<td class="instruction">LD (HL),H</td>
<td class="comment-1" rowspan="1">Write <span class="register">H</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7233"></span>7233</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7234"></span>7234</td>
<td class="instruction">DJNZ <a href="7200.html#7232">InitialiseNewLevel_2</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="7200.html#7232">InitialiseNewLevel_2</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7236"></span>7236</td>
<td class="instruction">LD B,E</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=<span class="register">E</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7237"></span>7237</td>
<td class="instruction">LD E,$10</td>
<td class="comment-1" rowspan="1"><span class="register">E</span>=10.</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_3</td>
<td class="address-2"><span id="7239"></span>7239</td>
<td class="instruction">LD (HL),H</td>
<td class="comment-1" rowspan="1">Write <span class="register">H</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="723a"></span>723A</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="723b"></span>723B</td>
<td class="instruction">DJNZ <a href="7200.html#7239">InitialiseNewLevel_3</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="7200.html#7239">InitialiseNewLevel_3</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="723d"></span>723D</td>
<td class="instruction">EXX</td>
<td class="comment-1" rowspan="1">Switch to the shadow registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="723e"></span>723E</td>
<td class="instruction">LD BC,$FA46</td>
<td class="comment-1" rowspan="1"><span class="register">BC'</span>=FA46.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7241"></span>7241</td>
<td class="instruction">EXX</td>
<td class="comment-1" rowspan="1">Switch back to the normal registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7242"></span>7242</td>
<td class="instruction">LD DE,$9F20</td>
<td class="comment-1" rowspan="1"><span class="register">DE</span>=<a href="9E00.html#9f20">9F20</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7245"></span>7245</td>
<td class="instruction">LD B,$0A</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=0A.</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_4</td>
<td class="address-2"><span id="7247"></span>7247</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1">Stash <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7248"></span>7248</td>
<td class="instruction">LD B,$08</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=08.</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_5</td>
<td class="address-2"><span id="724a"></span>724A</td>
<td class="instruction">CALL <a href="6400.html">GetRandomNumber</a></td>
<td class="comment-1" rowspan="1">Call <a href="6400.html">GetRandomNumber</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="724d"></span>724D</td>
<td class="instruction">AND %00011111</td>
<td class="comment-1" rowspan="1">Keep only bits 0-4.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="724f"></span>724F</td>
<td class="instruction">CP $1F</td>
<td class="comment-1" rowspan="2">Jump to <a href="7200.html#724a">InitialiseNewLevel_5</a> if <span class="register">A</span> is equal to 1F.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7251"></span>7251</td>
<td class="instruction">JR Z,<a href="7200.html#724a">InitialiseNewLevel_5</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7253"></span>7253</td>
<td class="instruction">CP $08</td>
<td class="comment-1" rowspan="2">Jump to <a href="7200.html#724a">InitialiseNewLevel_5</a> if <span class="register">A</span> is lower than 08.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7255"></span>7255</td>
<td class="instruction">JR C,<a href="7200.html#724a">InitialiseNewLevel_5</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7257"></span>7257</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7258"></span>7258</td>
<td class="instruction">CALL <a href="6400.html">GetRandomNumber</a></td>
<td class="comment-1" rowspan="1">Call <a href="6400.html">GetRandomNumber</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="725b"></span>725B</td>
<td class="instruction">AND %00000011</td>
<td class="comment-1" rowspan="1">Keep only bits 0-1.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="725d"></span>725D</td>
<td class="instruction">LD H,A</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="725e"></span>725E</td>
<td class="instruction">ADD HL,DE</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">DE</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="725f"></span>725F</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7260"></span>7260</td>
<td class="instruction">DEC A</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">A</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7261"></span>7261</td>
<td class="instruction">JR Z,<a href="7200.html#726b">InitialiseNewLevel_6</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7200.html#726b">InitialiseNewLevel_6</a> if <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7263"></span>7263</td>
<td class="instruction">CP $31</td>
<td class="comment-1" rowspan="2">Jump to <a href="7200.html#724a">InitialiseNewLevel_5</a> if <span class="register">A</span> is higher than 31.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7265"></span>7265</td>
<td class="instruction">JR NC,<a href="7200.html#724a">InitialiseNewLevel_5</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7267"></span>7267</td>
<td class="instruction">CP $2D</td>
<td class="comment-1" rowspan="2">Jump to <a href="7200.html#724a">InitialiseNewLevel_5</a> if <span class="register">A</span> is lower than 2D.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7269"></span>7269</td>
<td class="instruction">JR C,<a href="7200.html#724a">InitialiseNewLevel_5</a></td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_6</td>
<td class="address-2"><span id="726b"></span>726B</td>
<td class="instruction">PUSH HL</td>
<td class="comment-1" rowspan="1">Stash <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="726c"></span>726C</td>
<td class="instruction">EXX</td>
<td class="comment-1" rowspan="1">Switch to the shadow registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="726d"></span>726D</td>
<td class="instruction">LD H,B</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=<span class="register">B</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="726e"></span>726E</td>
<td class="instruction">LD L,C</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="726f"></span>726F</td>
<td class="instruction">POP DE</td>
<td class="comment-1" rowspan="1">Restore <span class="register">DE</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_7</td>
<td class="address-2"><span id="7270"></span>7270</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7271"></span>7271</td>
<td class="instruction">AND A</td>
<td class="comment-1" rowspan="2">Jump to <a href="7200.html#7284">InitialiseNewLevel_9</a> if <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7272"></span>7272</td>
<td class="instruction">JR Z,<a href="7200.html#7284">InitialiseNewLevel_9</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7274"></span>7274</td>
<td class="instruction">INC L</td>
<td class="comment-1" rowspan="1">Increment <span class="register">L</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7275"></span>7275</td>
<td class="instruction">CP E</td>
<td class="comment-1" rowspan="2">Jump to <a href="7200.html#727e">InitialiseNewLevel_8</a> if <span class="register">A</span> is not equal to <span class="register">E</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7276"></span>7276</td>
<td class="instruction">JR NZ,<a href="7200.html#727e">InitialiseNewLevel_8</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7278"></span>7278</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7279"></span>7279</td>
<td class="instruction">CP D</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with <span class="register">D</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="727a"></span>727A</td>
<td class="instruction">EXX</td>
<td class="comment-1" rowspan="1">Switch to the shadow registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="727b"></span>727B</td>
<td class="instruction">JR Z,<a href="7200.html#724a">InitialiseNewLevel_5</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7200.html#724a">InitialiseNewLevel_5</a> if {} is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="727d"></span>727D</td>
<td class="instruction">EXX</td>
<td class="comment-1" rowspan="1">Switch to the shadow registers.</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_8</td>
<td class="address-2"><span id="727e"></span>727E</td>
<td class="instruction">LD A,L</td>
<td class="comment-1" rowspan="3"><span class="register">L</span>+=07.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="727f"></span>727F</td>
<td class="instruction">ADD A,$07</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7281"></span>7281</td>
<td class="instruction">LD L,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7282"></span>7282</td>
<td class="instruction">JR <a href="7200.html#7270">InitialiseNewLevel_7</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7200.html#7270">InitialiseNewLevel_7</a>.</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_9</td>
<td class="address-2"><span id="7284"></span>7284</td>
<td class="instruction">LD (HL),E</td>
<td class="comment-1" rowspan="1">Write <span class="register">E</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7285"></span>7285</td>
<td class="instruction">INC L</td>
<td class="comment-1" rowspan="1">Increment <span class="register">L</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7286"></span>7286</td>
<td class="instruction">LD (HL),D</td>
<td class="comment-1" rowspan="1">Write <span class="register">D</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7287"></span>7287</td>
<td class="instruction">EXX</td>
<td class="comment-1" rowspan="1">Switch to the shadow registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7288"></span>7288</td>
<td class="instruction">DJNZ <a href="7200.html#724a">InitialiseNewLevel_5</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="7200.html#724a">InitialiseNewLevel_5</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="728a"></span>728A</td>
<td class="instruction">EXX</td>
<td class="comment-1" rowspan="1">Switch to the shadow registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="728b"></span>728B</td>
<td class="instruction">LD HL,$0040</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=0040.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="728e"></span>728E</td>
<td class="instruction">ADD HL,BC</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>+=<span class="register">BC</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="728f"></span>728F</td>
<td class="instruction">LD B,H</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=<span class="register">H</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7290"></span>7290</td>
<td class="instruction">LD C,L</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=<span class="register">L</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7291"></span>7291</td>
<td class="instruction">EXX</td>
<td class="comment-1" rowspan="1">Switch to the shadow registers.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7292"></span>7292</td>
<td class="instruction">LD A,E</td>
<td class="comment-1" rowspan="3"><span class="register">E</span>+=20.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7293"></span>7293</td>
<td class="instruction">ADD A,$20</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7295"></span>7295</td>
<td class="instruction">LD E,A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7296"></span>7296</td>
<td class="instruction">JR NZ,<a href="7200.html#729c">InitialiseNewLevel_10</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7200.html#729c">InitialiseNewLevel_10</a> if <span class="register">E</span> is not zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7298"></span>7298</td>
<td class="instruction">LD A,D</td>
<td class="comment-1" rowspan="3"><span class="register">D</span>+=05.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="7299"></span>7299</td>
<td class="instruction">ADD A,$05</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="729b"></span>729B</td>
<td class="instruction">LD D,A</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_10</td>
<td class="address-2"><span id="729c"></span>729C</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="729d"></span>729D</td>
<td class="instruction">DJNZ <a href="7200.html#7247">InitialiseNewLevel_4</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="7200.html#7247">InitialiseNewLevel_4</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="729f"></span>729F</td>
<td class="instruction">CALL <a href="74DC.html">PrintLevelName</a></td>
<td class="comment-1" rowspan="1">Call <a href="74DC.html">PrintLevelName</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="72a2"></span>72A2</td>
<td class="instruction">LD HL,$3280</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=3280.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="72a5"></span>
<div class="comments">
<div class="paragraph">
See <a href="E800.html">InitialiseDemoMode</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="72a5"></span>72A5</td>
<td class="instruction">LD A,($782D)</td>
<td class="comment-1" rowspan="3">Jump to <a href="7200.html#72ae">InitialiseNewLevel_InDemoMode</a> if the game is in "demo mode" (the high-order byte of <a href="782C.html">ControlMethod_Pointer</a> contains <a href="73B7.html">73</a>).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="72a8"></span>72A8</td>
<td class="instruction">CP $73</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="72aa"></span>72AA</td>
<td class="instruction">JR Z,<a href="7200.html#72ae">InitialiseNewLevel_InDemoMode</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="72ac"></span>72AC</td>
<td class="instruction">LD H,$0B</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=0B.</td>
</tr>
<tr>
<td class="asm-label">InitialiseNewLevel_InDemoMode</td>
<td class="address-2"><span id="72ae"></span>72AE</td>
<td class="instruction">NOP</td>
<td class="comment-1" rowspan="2">No operation.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="72af"></span>72AF</td>
<td class="instruction">NOP</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="72b0"></span>72B0</td>
<td class="instruction">LD ($7841),HL</td>
<td class="comment-1" rowspan="1">Write <span class="register">HL</span> to *<a href="7841.html">7841</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="72b3"></span>72B3</td>
<td class="instruction">XOR A</td>
<td class="comment-1" rowspan="2">Write 00 to *<a href="7840.html">7840</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="72b4"></span>72B4</td>
<td class="instruction">LD ($7840),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="72b7"></span>72B7</td>
<td class="instruction">JP <a href="7396.html">$7396</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="7396.html">7396</a>.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="71F8.html">71F8</a>
</td>
<td class="up">Up: <a href="../maps/all.html#7200">Map</a></td>
<td class="next">
Next: <a href="72BA.html">72BA</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1983 Microsphere &copy; 2024 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.1.</div>
<div class="repository">Link to <a href="https://github.com/pobtastic/wheelie/">Source code</a>.</div>
<div><a href="../dec/asm/29184.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>